(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{1151:function(e,t,n){"use strict";n.a(e,async function(e,r){try{n.d(t,{KH:function(){return i.KH}});var o=n(8781),i=n(87),u=e([o]);o=(u.then?(await u)():u)[0],(0,i.oT)(o),r()}catch(e){r(e)}})},87:function(e,t,n){"use strict";let r;function o(e){r=e}n.d(t,{B3:function(){return S},KH:function(){return x},Or:function(){return A},R9:function(){return O},RO:function(){return R},Tc:function(){return N},Zf:function(){return E},ao:function(){return T},fY:function(){return k},h4:function(){return j},oH:function(){return U},oT:function(){return o},ug:function(){return v},v6:function(){return C}}),e=n.hmd(e);let i=Array(128).fill(void 0);i.push(void 0,null,!0,!1);let u=i.length;function c(e){let t=i[e];return e<132||(i[e]=u,u=e),t}let s="undefined"==typeof TextDecoder?(0,e.require)("util").TextDecoder:TextDecoder,a=new s("utf-8",{ignoreBOM:!0,fatal:!0});a.decode();let l=null;function f(){return(null===l||0===l.byteLength)&&(l=new Uint8Array(r.memory.buffer)),l}function d(e,t){return e>>>=0,a.decode(f().subarray(e,e+t))}function h(e){u===i.length&&i.push(i.length+1);let t=u;return u=i[t],i[t]=e,t}let _=0,g="undefined"==typeof TextEncoder?(0,e.require)("util").TextEncoder:TextEncoder,b=new g("utf-8"),m="function"==typeof b.encodeInto?function(e,t){return b.encodeInto(e,t)}:function(e,t){let n=b.encode(e);return t.set(n),{read:e.length,written:n.length}};function w(e,t,n){if(void 0===n){let n=b.encode(e),r=t(n.length,1)>>>0;return f().subarray(r,r+n.length).set(n),_=n.length,r}let r=e.length,o=t(r,1)>>>0,i=f(),u=0;for(;u<r;u++){let t=e.charCodeAt(u);if(t>127)break;i[o+u]=t}if(u!==r){0!==u&&(e=e.slice(u)),o=n(o,r,r=u+3*e.length,1)>>>0;let t=f().subarray(o+u,o+r),i=m(e,t);u+=i.written}return _=u,o}let p=null;function y(){return(null===p||0===p.byteLength)&&(p=new Int32Array(r.memory.buffer)),p}function x(e){let t=w(e,r.__wbindgen_malloc,r.__wbindgen_realloc),n=_;r.run(t,n)}function v(e){c(e)}function j(e,t){let n=d(e,t);return h(n)}function R(e){window.setState(c(e))}function N(){return h({})}function S(){let e=Date.now();return e}function E(e){let t=i[e].buffer;return h(t)}function T(e,t,n){let r=new Uint32Array(i[e],t>>>0,n>>>0);return h(r)}function C(e){let t=new Uint32Array(i[e]);return h(t)}function O(){return function(e,t){try{return e.apply(this,t)}catch(e){r.__wbindgen_exn_store(h(e))}}(function(e,t,n){let r=Reflect.set(i[e],i[t],i[n]);return r},arguments)}function k(e,t){let n=function e(t){let n;let r=typeof t;if("number"==r||"boolean"==r||null==t)return`${t}`;if("string"==r)return`"${t}"`;if("symbol"==r){let e=t.description;return null==e?"Symbol":`Symbol(${e})`}if("function"==r){let e=t.name;return"string"==typeof e&&e.length>0?`Function(${e})`:"Function"}if(Array.isArray(t)){let n=t.length,r="[";n>0&&(r+=e(t[0]));for(let o=1;o<n;o++)r+=", "+e(t[o]);return r+"]"}let o=/\[object ([^\]]+)\]/.exec(toString.call(t));if(!(o.length>1))return toString.call(t);if("Object"==(n=o[1]))try{return"Object("+JSON.stringify(t)+")"}catch(e){return"Object"}return t instanceof Error?`${t.name}: ${t.message}
${t.stack}`:n}(i[t]),o=w(n,r.__wbindgen_malloc,r.__wbindgen_realloc),u=_;y()[e/4+1]=u,y()[e/4+0]=o}function A(e,t){throw Error(d(e,t))}function U(){let e=r.memory;return h(e)}},5557:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(4369)}])},4369:function(e,t,n){"use strict";n.a(e,async function(e,r){try{n.r(t);var o=n(4924),i=n(5893),u=n(7294),c=n(9008),s=n.n(c),a=n(9604),l=n(2920),f=n(6961),d=n.n(f);n(5675);var h=n(1151),_=e([h]);h=(_.then?(await _)():_)[0];class g extends u.Component{componentDidUpdate(e,t){if(t.source==this.state.source)return;let{errors:n,decorations:r}=this.state;r.forEach(e=>{this.sourceRef.current.deltaDecorations([e],[])});let o=Array.from(n).map(e=>this.sourceRef.current.deltaDecorations([],[{range:new monaco.Range(e,1,e,1),options:{isWholeLine:!0,className:"myContentClass",glyphMarginClassName:"myGlyphMarginClass"}}]));this.setState({decorations:o})}render(){return(0,i.jsxs)("div",{className:"main",children:[(0,i.jsxs)(s(),{children:[(0,i.jsx)("title",{children:"Rox Playground"}),(0,i.jsx)("link",{rel:"icon",href:"/rox/favicon.svg",sizes:"any",type:"image/svg+xml"})]}),(0,i.jsxs)("div",{className:"navbar",children:[(0,i.jsx)("a",{className:"home",href:"https://github.com/ryotsu/rox",children:"Rox Playground"}),(0,i.jsx)("a",{className:"share",onClick:this.copySource,children:"Share"}),(0,i.jsx)("a",{className:"nav-member",onClick:this.run,children:"Run \xa0 â–¶"})]}),(0,i.jsx)(l.Ix,{}),(0,i.jsxs)("div",{className:"container",children:[(0,i.jsx)("div",{className:"source",children:(0,i.jsx)(a.ZP,{theme:"vs-dark",onMount:(e,t)=>this.sourceRef.current=e,options:{glyphMargin:!0},value:this.props.source||this.state.source})}),(0,i.jsx)("div",{className:"opcode",children:(0,i.jsx)(a.ZP,{theme:"vs-dark",options:{lineNumbers:"off",readOnly:!0},value:this.state.opcode})}),(0,i.jsx)("div",{className:"output",children:(0,i.jsx)(a.ZP,{theme:"vs-dark",options:{lineNumbers:"off",readOnly:!0,minimap:{enabled:!1}},value:this.state.output})})]})]})}constructor(e){super(e),(0,o.Z)(this,"run",()=>{let e=this.sourceRef.current.getValue();this.setState({source:e}),h.KH(e)}),(0,o.Z)(this,"copySource",()=>{let e=this.sourceRef.current.getValue(),t=d().compressToEncodedURIComponent(e);navigator.clipboard.writeText(window.location.host+"/rox#"+t),(0,l.Am)("Copied!")}),(0,o.Z)(this,"getSourceFromURL",()=>{let e=window.location.hash.substring(1);return d().decompressFromEncodedURIComponent(e)}),this.sourceRef=u.createRef(),this.state={source:'print "Hello World!";',output:"",opcode:"",errors:[],decorations:[]};{window.setState=this.setState.bind(this);let e=this.getSourceFromURL();e&&(this.state.source=e),window.addEventListener("hashchange",e=>{let t=this.getSourceFromURL();t&&this.setState({source:t,output:"",opcode:"",errors:[]})})}}}t.default=g,r()}catch(e){r(e)}})},8781:function(e,t,n){"use strict";var r=n(87);e.exports=n.v(t,e.id,"71e7c10ed79bd4b9",{"./rox_bg.js":{__wbindgen_object_drop_ref:r.ug,__wbindgen_string_new:r.h4,__wbg_setState_328a4c73fc789e98:r.RO,__wbg_new_b51585de1b234aff:r.Tc,__wbg_now_9c5990bda04c7e53:r.B3,__wbg_buffer_085ec1f694018c4f:r.Zf,__wbg_newwithbyteoffsetandlength_6df0e8c3efd2a5d3:r.ao,__wbg_new_fcbee3dadeecfb4d:r.v6,__wbg_set_092e06b0f9d71865:r.R9,__wbindgen_debug_string:r.fY,__wbindgen_throw:r.Or,__wbindgen_memory:r.oH}})}},function(e){e.O(0,[883,774,888,179],function(){return e(e.s=5557)}),_N_E=e.O()}]);